{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst inputEmail = document.querySelector('input');\nconst textareaMessage = document.querySelector('textarea');\nconst btn = document.querySelector('button');\nconst form = document.querySelector('.feedback-form');\n\nconst key_LS = 'feedback-form-state';\n\nconst dataLSInput = JSON.parse(localStorage.getItem(key_LS)) ?? {};\n\nfunction addInputLS() {\n  localStorage.setItem(key_LS, JSON.stringify(dataLSInput));\n}\n\nconst throttledUpdateEmail = throttle(email => {\n  dataLSInput.email = email;\n  addInputLS();\n}, 500);\n\nconst throttledUpdateMessage = throttle(message => {\n  dataLSInput.message = message;\n  addInputLS();\n}, 500);\n\ninputEmail.addEventListener('input', event => {\n  throttledUpdateEmail(event.currentTarget.value);\n});\n\ntextareaMessage.addEventListener('input', event => {\n  throttledUpdateMessage(event.currentTarget.value);\n});\n\nbtn.addEventListener('click', evt => {\n  evt.preventDefault();\n  if (dataLSInput.email && dataLSInput.message) {\n    form.reset();\n\n    if (localStorage.getItem(key_LS)) {\n      console.log(localStorage.getItem(key_LS));\n    }\n\n    localStorage.removeItem(key_LS);\n    throttledUpdateMessage();\n    throttledUpdateEmail();\n  }\n});\n"],"names":["inputEmail","textareaMessage","btn","form","key_LS","dataLSInput","addInputLS","throttledUpdateEmail","throttle","email","throttledUpdateMessage","message","event","evt"],"mappings":"wIAEA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAkB,SAAS,cAAc,UAAU,EACnDC,EAAM,SAAS,cAAc,QAAQ,EACrCC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAS,sBAETC,EAAc,KAAK,MAAM,aAAa,QAAQD,CAAM,CAAC,GAAK,GAEhE,SAASE,GAAa,CACpB,aAAa,QAAQF,EAAQ,KAAK,UAAUC,CAAW,CAAC,CAC1D,CAEA,MAAME,EAAuBC,EAASC,GAAS,CAC7CJ,EAAY,MAAQI,EACpBH,GACF,EAAG,GAAG,EAEAI,EAAyBF,EAASG,GAAW,CACjDN,EAAY,QAAUM,EACtBL,GACF,EAAG,GAAG,EAENN,EAAW,iBAAiB,QAASY,GAAS,CAC5CL,EAAqBK,EAAM,cAAc,KAAK,CAChD,CAAC,EAEDX,EAAgB,iBAAiB,QAASW,GAAS,CACjDF,EAAuBE,EAAM,cAAc,KAAK,CAClD,CAAC,EAEDV,EAAI,iBAAiB,QAASW,GAAO,CACnCA,EAAI,eAAc,EACdR,EAAY,OAASA,EAAY,UACnCF,EAAK,MAAK,EAEN,aAAa,QAAQC,CAAM,GAC7B,QAAQ,IAAI,aAAa,QAAQA,CAAM,CAAC,EAG1C,aAAa,WAAWA,CAAM,EAC9BM,IACAH,IAEJ,CAAC"}