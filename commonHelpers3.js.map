{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst inputEmail = document.querySelector('input');\nconst textareaMessage = document.querySelector('textarea');\n\nconst key_LS = 'feedback-form-state';\n\nlet dataLSInput = JSON.parse(localStorage.getItem(key_LS)) ?? {};\n\ninputEmail.value = dataLSInput.email ?? '';\ntextareaMessage.textContent = dataLSInput.message ?? '';\n\nfunction addInputLS() {\n  localStorage.setItem(key_LS, JSON.stringify(dataLSInput));\n}\n\nfunction submit(evt) {\n  evt.preventDefault();\n  if (dataLSInput.email && dataLSInput.message) {\n    console.log(dataLSInput);\n    localStorage.removeItem(key_LS);\n\n    form.reset();\n    textareaMessage.textContent = '';\n    return;\n  } else {\n    alert(\n      'Заповніть усі поля форми, а то мене ментор прибʼє, якщо я 3-й раз неправильно ДЗ відправлю ;-)'\n    );\n  }\n}\n\nform.addEventListener(\n  'input',\n  throttle(() => {\n    const emailValue = form.email.value;\n    const messageValue = form.message.value;\n    dataLSInput.email = emailValue;\n    dataLSInput.message = messageValue;\n    addInputLS();\n  }, 500)\n);\nform.addEventListener('submit', submit);\n"],"names":["form","inputEmail","textareaMessage","key_LS","dataLSInput","addInputLS","submit","evt","throttle","emailValue","messageValue"],"mappings":"mIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAkB,SAAS,cAAc,UAAU,EAEnDC,EAAS,sBAEf,IAAIC,EAAc,KAAK,MAAM,aAAa,QAAQD,CAAM,CAAC,GAAK,GAE9DF,EAAW,MAAQG,EAAY,OAAS,GACxCF,EAAgB,YAAcE,EAAY,SAAW,GAErD,SAASC,GAAa,CACpB,aAAa,QAAQF,EAAQ,KAAK,UAAUC,CAAW,CAAC,CAC1D,CAEA,SAASE,EAAOC,EAAK,CAEnB,GADAA,EAAI,eAAc,EACdH,EAAY,OAASA,EAAY,QAAS,CAC5C,QAAQ,IAAIA,CAAW,EACvB,aAAa,WAAWD,CAAM,EAE9BH,EAAK,MAAK,EACVE,EAAgB,YAAc,GAC9B,MACJ,MACI,MACE,gGACN,CAEA,CAEAF,EAAK,iBACH,QACAQ,EAAS,IAAM,CACb,MAAMC,EAAaT,EAAK,MAAM,MACxBU,EAAeV,EAAK,QAAQ,MAClCI,EAAY,MAAQK,EACpBL,EAAY,QAAUM,EACtBL,GACD,EAAE,GAAG,CACR,EACAL,EAAK,iBAAiB,SAAUM,CAAM"}